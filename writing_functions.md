writing\_functions.Rmd
================
Ruilian Zhang
11/4/2021

``` r
library(tidyverse)
```

    ## ── Attaching packages ─────────────────────────────────────── tidyverse 1.3.1 ──

    ## ✓ ggplot2 3.3.5     ✓ purrr   0.3.4
    ## ✓ tibble  3.1.4     ✓ dplyr   1.0.7
    ## ✓ tidyr   1.1.3     ✓ stringr 1.4.0
    ## ✓ readr   2.0.1     ✓ forcats 0.5.1

    ## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
    ## x dplyr::filter() masks stats::filter()
    ## x dplyr::lag()    masks stats::lag()

``` r
library(rvest)
```

    ## 
    ## Attaching package: 'rvest'

    ## The following object is masked from 'package:readr':
    ## 
    ##     guess_encoding

## Z scores

``` r
x_vec = rnorm(25, mean = 5, sd = 4)

(x_vec - mean(x_vec)) / sd(x_vec)
```

    ##  [1]  2.383417305 -0.683453866 -0.902135320  0.009696853  0.064128234
    ##  [6]  0.303344703 -1.514712366  0.137632865  0.925008960 -1.248336021
    ## [11]  0.626839808 -0.307721832 -0.716050559  1.058600210  1.040194831
    ## [16]  1.511712294  0.553686359 -0.772429439 -0.652927161 -0.832101710
    ## [21] -1.662002905 -0.457107950  0.745838370  0.936592805 -0.547714467

``` r
z_scores = function(x) {
  
  z = (x - mean(x)) / sd(x)
  
  return(z)
  
}

z_scores(x = x_vec)
```

    ##  [1]  2.383417305 -0.683453866 -0.902135320  0.009696853  0.064128234
    ##  [6]  0.303344703 -1.514712366  0.137632865  0.925008960 -1.248336021
    ## [11]  0.626839808 -0.307721832 -0.716050559  1.058600210  1.040194831
    ## [16]  1.511712294  0.553686359 -0.772429439 -0.652927161 -0.832101710
    ## [21] -1.662002905 -0.457107950  0.745838370  0.936592805 -0.547714467

``` r
y_vec = rnorm(40, 12, .3)

z_scores(y_vec)
```

    ##  [1] -0.89210262 -0.06096924 -1.04812432  0.15919241 -0.85599714 -1.20788181
    ##  [7] -1.68907774  0.23494068  0.37418125  1.93803454  0.96130803 -1.59526203
    ## [13]  1.40461370 -0.20459054  0.93146744 -1.55132036 -0.37548651  0.09043333
    ## [19] -1.16918025 -1.38642255  1.46289763 -0.67829874  0.28559372 -0.08000406
    ## [25] -0.03977907 -0.38449491  1.22836397  0.05411530 -0.37173030  0.94817314
    ## [31] -0.54816283  1.18167909  1.43578800 -0.10445199  0.83319823  1.28360706
    ## [37]  1.62307424 -1.01915312 -0.70918982 -0.45898181

``` r
z_scores = function(x) {
  
  if(!is.numeric(x)) {
    stop("x needs to be numeric")
  }
  
  if(length(x) < 3) {
    stop("x should have at least 3 numbers")
  }
  
  z = (x - mean(x)) / sd(x)
  
  return(z)
  
}

z_scores(3)
```

    ## Error in z_scores(3): x should have at least 3 numbers

``` r
z_scores("Roxy")
```

    ## Error in z_scores("Roxy"): x needs to be numeric

``` r
z_scores(y_vec)
```

    ##  [1] -0.89210262 -0.06096924 -1.04812432  0.15919241 -0.85599714 -1.20788181
    ##  [7] -1.68907774  0.23494068  0.37418125  1.93803454  0.96130803 -1.59526203
    ## [13]  1.40461370 -0.20459054  0.93146744 -1.55132036 -0.37548651  0.09043333
    ## [19] -1.16918025 -1.38642255  1.46289763 -0.67829874  0.28559372 -0.08000406
    ## [25] -0.03977907 -0.38449491  1.22836397  0.05411530 -0.37173030  0.94817314
    ## [31] -0.54816283  1.18167909  1.43578800 -0.10445199  0.83319823  1.28360706
    ## [37]  1.62307424 -1.01915312 -0.70918982 -0.45898181

``` r
mean_and_sd = function(x) {
  
  if(!is.numeric(x)) {
    stop("x needs to be numeric")
  }
  
  if(length(x) < 3) {
    stop("x should have at least 3 numbers")
  }
  
  mean_x = mean(x)
  sd_x = sd(x)
  
  output_df = 
    tibble(
      mean = mean_x,
      sd = sd_x
    )
  
  return(output_df)
}

mean_and_sd(y_vec)
```

    ## # A tibble: 1 × 2
    ##    mean    sd
    ##   <dbl> <dbl>
    ## 1  12.0 0.284
